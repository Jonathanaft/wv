<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>üé• WeekVid</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      color: #fff;
      background: #c32222;
      background: linear-gradient(0deg, rgba(195,34,34,1) 0%, rgba(30,99,247,1) 100%);
      min-height: 100vh;
      margin: 0;
    }
    h1, h2, h3 {
      color: #fff;
    }
    .video-box {
      margin-bottom: 20px;
      background: rgba(255, 255, 255, 0.15);
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    }
    video {
      width: 100%;
      max-width: 640px;
      height: auto;
      border-radius: 4px;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
      background: black;
      display: block;
    }
    .duration {
      margin-top: 6px;
      font-size: 14px;
      color: #ffe;
    }
    .rules, #chatBox {
      background: rgba(255 255 255 / 0.15);
      padding: 10px;
      margin-top: 20px;
      border-left: 5px solid #1e63f7;
      color: #fff;
    }
    #chatBox {
      height: 200px;
      overflow-y: auto;
      border: 1px solid rgba(255 255 255 / 0.3);
      background: rgba(0 0 0 / 0.2);
    }
    .message {
      margin-bottom: 8px;
    }
    input, button {
      padding: 10px;
      width: 100%;
      margin-top: 5px;
      border: none;
      border-radius: 4px;
      box-sizing: border-box;
    }
    input {
      font-size: 16px;
    }
    button {
      background-color: #1e63f7;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #144dbf;
    }
    a.discord-link {
      color: #ffd700;
      font-weight: bold;
      text-decoration: underline;
    }
    p.discord-note {
      background: rgba(0 0 0 / 0.3);
      padding: 10px;
      border-radius: 5px;
      margin-bottom: 20px;
      max-width: 640px;
    }

    @media (max-width: 700px) {
      body {
        padding: 10px;
      }
      .video-box {
        padding: 5px;
      }
      video {
        max-width: 100%;
      }
      p.discord-note {
        max-width: 100%;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>

  <h1>üéûÔ∏è WeekVid</h1>

  <p class="discord-note">
    To submit your video, upload it on our Discord server:<br>
    <a class="discord-link" href="https://discord.gg/HrWAcqbS3f" target="_blank">
      https://discord.gg/HrWAcqbS3f
    </a>
  </p>

  <div id="videos">
    <!-- Video boxes -->
    <div class="video-box"><video controls src="video1.mp4"></video><div class="duration">Loading...</div></div>
    <div class="video-box"><video controls src="video2.mp4"></video><div class="duration">Loading...</div></div>
    <div class="video-box"><video controls src="video3.mp4"></video><div class="duration">Loading...</div></div>
    <div class="video-box"><video controls src="video4.mp4"></video><div class="duration">Loading...</div></div>
    <div class="video-box"><video controls src="video5.mp4"></video><div class="duration">Loading...</div></div>
    <div class="video-box"><video controls src="video6.mp4"></video><div class="duration">Loading...</div></div>
    <div class="video-box"><video controls src="video7.mp4"></video><div class="duration">Loading...</div></div>
  </div>

  <h2>üí¨ Safe Chat</h2>
  <div id="chatBox">
    <p><em>Click the input or send button to go to Discord!</em></p>
  </div>
  <form id="chatForm">
    <input type="text" id="chatInput" placeholder="Say something nice!" maxlength="100" required />
    <button type="submit">Send</button>
  </form>

  <div class="rules">
    <h3>üìú Rules</h3>
    <ul>
      <li>Videos are reviewed by the mod before being posted</li>
      <li>No personal info, bad words, or mean messages</li>
      <li>This is a clean, safe place for creativity!</li>
    </ul>
  </div>

  <script>
    // Redirect to Discord when user interacts with chat
    const chatForm = document.getElementById("chatForm");
    const chatInput = document.getElementById("chatInput");
    const discordURL = "https://discord.gg/HrWAcqbS3f";

    chatInput.addEventListener("focus", () => {
      window.open(discordURL, "_blank");
    });

    chatForm.addEventListener("submit", (e) => {
      e.preventDefault();
      window.open(discordURL, "_blank");
    });

    // Show video duration after metadata loads
    document.querySelectorAll("video").forEach((video) => {
      video.addEventListener("loadedmetadata", () => {
        const duration = Math.floor(video.duration);
        const min = Math.floor(duration / 60);
        const sec = duration % 60;
        const formatted = `${min}:${sec.toString().padStart(2, '0')}`;
        video.nextElementSibling.textContent = `Length: ${formatted}`;
      });
    });
  </script>

</body>
</html>
